{"version":3,"sources":["webpack:///./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","webpack:///./src/components/template/disabledMixin.js","webpack:///./src/components/template/TSelect.vue","webpack:///src/components/template/TSelect.vue","webpack:///./src/components/template/TSelect.vue?0a1f"],"names":["_extends","Object","assign","a","b","c","arguments","length","d","prototype","hasOwnProperty","call","apply","this","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","indexOf","Array","e","concat","f","g","h","i","mergeFn","module","exports","props","data","type","default","bindingData","deafult","formDisabled","Boolean","undefined","computed","disabled","disabledConditions","watch","handler","updateDisabledConditions","immediate","deep","newVal","methods","conditions","getDisabled","conditionsClone","JSON","parse","stringify","CONDITIONS_STR","Error","calculateDisabledConditions","String","when","is","leftOperand","operands","shift","leftVal","operators","operator","rightOperand","rightVal","nextOperator","unshift","staticRenderFns","name","components","VSelect","VFlex","mixins","disabledMixin","value","innerValue","newValue","$emit","created","render","flexShrink","flexGrow","width","maxWidth","backgroundColor","marginTop","marginLeft","marginBottom","marginRight","dense","items","options","component"],"mappings":"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","file":"js/chunk-61098296.91b32958.js","sourcesContent":["\"use strict\";function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h)}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","export default {\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    bindingData: {\r\n      type: Object,\r\n      deafult: () => {},\r\n    },\r\n    formDisabled: {\r\n      type: [Boolean, undefined],\r\n      default: undefined,\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    disabled() {\r\n      // 表單被 disabled 的條件 (this.disabled) 優先，\r\n      // 其次是元素的 disabled (this.data.dislabed)\r\n      // 最後才是條件式的 disabled\r\n      return (\r\n        this.formDisabled ??\r\n        (this.data.disabled !== \"conditions\"\r\n          ? this.data.disabled\r\n          : this.disabledConditions)\r\n      );\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      disabledConditions: null,\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    bindingData: {\r\n      handler(bindingData) {\r\n        const disabledConditions = this.data[\"disabledConditions\"];\r\n        this.updateDisabledConditions(disabledConditions, bindingData);\r\n      },\r\n      immediate: true,\r\n      deep: true,\r\n    },\r\n    \"data.disabledConditions\": {\r\n      handler(newVal) {\r\n        this.updateDisabledConditions(newVal, this.bindingData);\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    updateDisabledConditions(conditions, bindingData) {\r\n      this.disabledConditions = this.getDisabled(conditions, bindingData);\r\n    },\r\n    getDisabled(conditions, bindingData) {\r\n      if (!conditions) return;\r\n\r\n      let conditionsClone;\r\n\r\n      try {\r\n        //  prevent conditions from mutating\r\n        conditionsClone = JSON.parse(JSON.stringify(conditions));\r\n      } catch {\r\n        const CONDITIONS_STR = JSON.stringify(conditions, null, 2);\r\n        throw new Error(\r\n          `disabled conditions can't be parse. \\n ${CONDITIONS_STR}`\r\n        );\r\n      }\r\n\r\n      return this.calculateDisabledConditions(conditionsClone, bindingData);\r\n    },\r\n    // 考慮例外處理: conditions: null, undefined, {}, 過多的 operator, bindingData 找不到值\r\n    // 使用後序 (postfix) 的運算規則\r\n    calculateDisabledConditions(conditions, bindingData) {\r\n      if (!conditions) return;\r\n\r\n      if (\"when\" in conditions && \"is\" in conditions) {\r\n        return String(bindingData[conditions.when]) === String(conditions.is);\r\n      }\r\n\r\n      if (\"operators\" in conditions && \"operands\" in conditions) {\r\n        // 計算左值\r\n        const leftOperand = conditions.operands.shift();\r\n        let leftVal = this.calculateDisabledConditions(\r\n          leftOperand,\r\n          bindingData\r\n        );\r\n\r\n        while (conditions.operators.length) {\r\n          // 檢查運算元是否為 not，是的話則反向左值, 直到不是 not 為止\r\n          const operator = conditions.operators.shift();\r\n          if (operator === \"not\") {\r\n            leftVal = !leftVal;\r\n            continue;\r\n          }\r\n\r\n          // 計算右值\r\n          const rightOperand = conditions.operands.shift();\r\n          let rightVal = this.calculateDisabledConditions(\r\n            rightOperand,\r\n            bindingData\r\n          );\r\n\r\n          // 檢查下個運算元是否為 not，的話則反向右值，直到不是 not 為止\r\n          let nextOperator = conditions.operators.shift();\r\n          while (nextOperator === \"not\") {\r\n            rightVal = !rightVal;\r\n            nextOperator = conditions.operators.shift();\r\n          }\r\n          if (nextOperator) {\r\n            conditions.operators.unshift(nextOperator);\r\n          }\r\n\r\n          switch (operator) {\r\n            case \"and\":\r\n              leftVal = leftVal && rightVal;\r\n              break;\r\n            case \"or\":\r\n              leftVal = leftVal || rightVal;\r\n              break;\r\n            default:\r\n              throw new Error(`operator ${operator} is invalid.`);\r\n          }\r\n        }\r\n\r\n        return leftVal;\r\n      }\r\n\r\n      const CONDITIONS_STR = JSON.stringify(conditions, null, 2);\r\n      throw new Error(`conditions is invalid. \\n ${CONDITIONS_STR}`);\r\n    },\r\n  },\r\n};\r\n","var render, staticRenderFns\nimport script from \"./TSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./TSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport { VSelect, VFlex } from \"vuetify/lib\";\r\nimport disabledMixin from \"./disabledMixin.js\";\r\n\r\nexport default {\r\n  name: \"TSelect\",\r\n\r\n  components: {\r\n    VSelect,\r\n    VFlex,\r\n  },\r\n\r\n  mixins: [disabledMixin],\r\n\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    value: {\r\n      type: undefined,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      innerValue: \"\",\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value(newValue) {\r\n      this.innerValue = newValue;\r\n    },\r\n    innerValue(newValue) {\r\n      this.$emit(\"input\", newValue);\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.innerValue = this.value;\r\n  },\r\n\r\n  render() {\r\n    const data = this.data;\r\n    const style = {\r\n      flexShrink: data.flexShrink,\r\n      flexGrow: data.flexGrow,\r\n      width: data.width,\r\n      maxWidth: data.maxWidth,\r\n      backgroundColor: data.backgroundColor,\r\n      marginTop: data.marginTop,\r\n      marginLeft: data.marginLeft,\r\n      marginBottom: data.marginBottom,\r\n      marginRight: data.marginRight,\r\n    };\r\n    const props = {\r\n      dense: data.dense,\r\n      items: data.options,\r\n      [data.style]: true,\r\n      hideDetails: true,\r\n      disabled: this.disabled,\r\n    };\r\n\r\n    return (\r\n      <v-flex style={style} onClick={ (e) => e.stopPropagation()}>\r\n        <v-select v-model={this.innerValue} props={props}>\r\n          {this.$slots.default}\r\n        </v-select>\r\n      </v-flex>\r\n    );\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSelect.vue?vue&type=script&lang=js&\""],"sourceRoot":""}